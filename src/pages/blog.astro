---
import Layout from "../layouts/Layout.astro";
import Features from "../components/Features.astro";
import Card from "../components/Card.astro";

const posts = await Astro.glob("../posts/*.md");
---

<Layout title="Izzi's Blog">
    <section class="features">
        <div class="card-container">
            {
                posts.map((post) => (
                    <Card>
                        <h3>{post.frontmatter.title}</h3>
                        <div>
                            <strong>{post.frontmatter.author} </strong> on{" "}
                            {new Date(
                                post.frontmatter.date
                            ).toLocaleDateString()}
                        </div>
                        <p>{post.frontmatter.excerpt}</p>
                        <a class="btn" href={`/${post.frontmatter.slug}`}>
                            Read More
                        </a>
                    </Card>
                ))
            }
        </div>
    </section>
</Layout>
<style>
    a {
        padding-left: 2rem;
        color: aliceblue;
    }

    .features .card-container {
        display: grid;
        grid-template-columns: repeat(1fr);
        grid-gap: 20px;
        padding: 0 20px;
        margin: 30px auto;
        color: #000;
    }

    @media (max-width: 500px) {
        .features .card-container {
            grid-template-columns: 1fr;
        }
    }
</style>
